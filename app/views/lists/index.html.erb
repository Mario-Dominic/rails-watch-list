<div class="card bg-dark text-white text-center">
  <img src="https://res.cloudinary.com/dzep3mgew/image/upload/v1744644369/3d-render-of-cinema-time-with-reel-film-clapper-board-drink-mug-popcorn-free-photo_irdh29.jpg" class="card-img" alt="cinematic image">
  <div class="card-img-overlay d-flex flex-column align-items-center justify-content-center">
    <h5 class="card-title">Save an kind of movies</h5>
    <p class="card-text">Have fun custom creating movie lists!</p>
  </div>
</div>

<h1>Movie Lists</h1>

<% @lists.each do |list| %>
  <div class="card-category-container">
    <% if list.photo.attached? %>
      <!-- Container with the background image -->
      <div class="card-category"
           style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path(list.photo.key) %>')">

        <!-- Clickable list name -->
        <%= link_to list.name, list_path(list), class: "list-name" %>

        <!-- Clickable edit link -->
        <%= link_to "Edit", edit_list_path(list), class: "edit-link" %>

        <!-- Clickable trash icon for deleting -->
        <%= link_to "🗑️", list_path(list), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "delete-icon" %>
      </div>
    <% else %>
      <!-- If no photo is attached, display the list name and edit link -->
      <%= link_to list.name, list_path(list) %>
      <%= link_to "Edit", edit_list_path(list), class: "edit-link" %>
      <%= link_to "🗑️", list_path(list), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: "delete-icon" %>
    <% end %>
  </div>
<% end %>

<%= link_to 'Add List', new_list_path, class: "create-list" %>


<%# @lists.each do |list| %>
  <%# if list.photo.attached? %>
    <%#= link_to list_path(list) do %>
      <%# <div class="card-category"
           style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path(list.photo.key) %>
        <%#= link_to list.name, list_path(list), class: "list-name" %>
        <%#= link_to "🗑️", list_path(list),
                    data: { turbo_method: :delete, turbo_confirm: "Are you sure?" } %>
      <%#/div>
    <%# end %>
  <%# else %>
    <%#= link_to list.name, list_path(list) %>
  <%# end %>
    <%#= link_to "Edit", edit_list_path(list), class: "edit-link" %>
<%# end %>

<%#= link_to 'Create a List', new_list_path, class: "create-list" %>
